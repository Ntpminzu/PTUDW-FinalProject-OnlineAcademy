<link rel="stylesheet" href="/public/signin,signup.css">
<div class="auth-container">
  <h2>ğŸª„ Create Your Student Account</h2>

  {{#if error}}
  <div class="error">{{error}}</div>
  {{/if}}

  {{#if success}}
  <div class="success">{{success}}</div>
  {{/if}}

  {{#unless showOtp}}
  <form action="/account/signup" method="post" class="auth-form">
    <div class="form-group">
      <label>Username</label>
      <input type="text" name="username" required>
    </div>
    <div class="form-group">
      <label>Password</label>
      <input type="password" name="password" required>
    </div>
    <div class="form-group">
      <label>Confirm Password</label>
      <input type="password" name="confirm" required>
    </div>
    <div class="form-group">
      <label>Full Name</label>
      <input type="text" name="name" required>
    </div>
    <div class="form-group">
      <label>Email</label>
      <input type="email" name="email" required>
    </div>
    <button type="submit" class="magic-btn">âœ¨ Sign Up âœ¨</button>
  </form>
  {{/unless}}

  {{#if showOtp}}
  <form action="/account/verify-otp" method="post" class="auth-form">
    <p>Weâ€™ve sent a 6-digit OTP to your email: <strong>{{email}}</strong></p>
    <div class="form-group">
      <label for="otp">Enter OTP</label>
      <input type="text" id="otp" name="otp" maxlength="6" required>
    </div>
    <button type="submit" class="magic-btn">ğŸ”® Verify OTP ğŸ”®</button>
  </form>
  {{/if}}

  <div class="auth-footer">
    <p>Already have an account? <a href="/account/signin">Login here</a></p>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const messages = {
    username: 'Vui lÃ²ng nháº­p tÃªn Ä‘Äƒng nháº­p!',
    password: 'Vui lÃ²ng nháº­p máº­t kháº©u!',
    confirm: 'Vui lÃ²ng xÃ¡c nháº­n máº­t kháº©u!',
    name: 'Vui lÃ²ng nháº­p há» tÃªn!',
    email: 'Vui lÃ²ng nháº­p email há»£p lá»‡!',
  };

  document.querySelectorAll('input[required]').forEach(input => {
    input.oninvalid = function() {
      this.setCustomValidity(messages[this.name] || 'TrÆ°á»ng nÃ y khÃ´ng Ä‘Æ°á»£c Ä‘á»ƒ trá»‘ng.');
    };
    input.oninput = function() {
      this.setCustomValidity('');
    };
  });
});
</script>
